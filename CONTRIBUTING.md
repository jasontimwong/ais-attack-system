# ğŸ¤ Contributing to AIS Attack System

æ„Ÿè°¢æ‚¨å¯¹AISæ”»å‡»ç”Ÿæˆç³»ç»Ÿçš„è´¡çŒ®å…´è¶£ï¼æœ¬é¡¹ç›®æ—¨åœ¨æ¨è¿›æµ·äº‹ç½‘ç»œå®‰å…¨ç ”ç©¶ï¼Œæˆ‘ä»¬æ¬¢è¿æ¥è‡ªå­¦æœ¯ç•Œå’Œå·¥ä¸šç•Œçš„è´¡çŒ®ã€‚

## ğŸ“‹ ç›®å½•

- [è´¡çŒ®ç±»å‹](#è´¡çŒ®ç±»å‹)
- [å¼€å‘ç¯å¢ƒè®¾ç½®](#å¼€å‘ç¯å¢ƒè®¾ç½®)
- [ä»£ç è´¡çŒ®æµç¨‹](#ä»£ç è´¡çŒ®æµç¨‹)
- [ç¼–ç è§„èŒƒ](#ç¼–ç è§„èŒƒ)
- [æµ‹è¯•è¦æ±‚](#æµ‹è¯•è¦æ±‚)
- [æ–‡æ¡£è´¡çŒ®](#æ–‡æ¡£è´¡çŒ®)
- [é—®é¢˜æŠ¥å‘Š](#é—®é¢˜æŠ¥å‘Š)
- [ç¤¾åŒºå‡†åˆ™](#ç¤¾åŒºå‡†åˆ™)

## ğŸ¯ è´¡çŒ®ç±»å‹

æˆ‘ä»¬æ¬¢è¿ä»¥ä¸‹ç±»å‹çš„è´¡çŒ®ï¼š

### ğŸ”§ ä»£ç è´¡çŒ®
- **æ–°æ”»å‡»ç±»å‹å®ç°** - æ·»åŠ æ–°çš„AISæ”»å‡»æ¨¡å¼
- **ç®—æ³•æ”¹è¿›** - ä¼˜åŒ–ç°æœ‰çš„ç›®æ ‡é€‰æ‹©ã€ç‰©ç†å¼•æ“ç­‰ç®—æ³•
- **æ€§èƒ½ä¼˜åŒ–** - æå‡ç³»ç»Ÿå¤„ç†é€Ÿåº¦å’Œå†…å­˜æ•ˆç‡
- **å¯è§†åŒ–å¢å¼º** - æ”¹è¿›ECDISæ¸²æŸ“å’ŒWebç•Œé¢
- **é›†æˆåŠŸèƒ½** - æ·»åŠ ä¸å…¶ä»–æµ·äº‹ç³»ç»Ÿçš„é›†æˆ

### ğŸ“Š æ•°æ®è´¡çŒ®
- **æ–°æµ‹è¯•æ•°æ®é›†** - æä¾›çœŸå®AISæ•°æ®ç”¨äºéªŒè¯
- **æ”»å‡»åœºæ™¯é…ç½®** - åˆ›å»ºæ–°çš„æ”»å‡»åœºæ™¯é…ç½®
- **åŸºå‡†æµ‹è¯•æ•°æ®** - æä¾›æ€§èƒ½åŸºå‡†æµ‹è¯•æ•°æ®

### ğŸ“– æ–‡æ¡£è´¡çŒ®
- **APIæ–‡æ¡£** - æ”¹è¿›ä»£ç æ–‡æ¡£å’ŒAPIè¯´æ˜
- **æ•™ç¨‹å’ŒæŒ‡å—** - ç¼–å†™ä½¿ç”¨æ•™ç¨‹å’Œæœ€ä½³å®è·µ
- **å­¦æœ¯è®ºæ–‡** - åŸºäºç³»ç»Ÿçš„ç ”ç©¶æˆæœ
- **ç¿»è¯‘** - å°†æ–‡æ¡£ç¿»è¯‘ä¸ºå…¶ä»–è¯­è¨€

### ğŸ› é—®é¢˜æŠ¥å‘Š
- **BugæŠ¥å‘Š** - å‘ç°å’ŒæŠ¥å‘Šç³»ç»Ÿç¼ºé™·
- **æ€§èƒ½é—®é¢˜** - æŠ¥å‘Šæ€§èƒ½ç“¶é¢ˆ
- **å…¼å®¹æ€§é—®é¢˜** - æŠ¥å‘Šå¹³å°å…¼å®¹æ€§é—®é¢˜

## ğŸ› ï¸ å¼€å‘ç¯å¢ƒè®¾ç½®

### 1. Fork ä»“åº“

ç‚¹å‡»GitHubé¡µé¢å³ä¸Šè§’çš„"Fork"æŒ‰é’®åˆ›å»ºæ‚¨çš„åˆ†æ”¯ã€‚

### 2. å…‹éš†ä»£ç 

```bash
git clone https://github.com/YOUR_USERNAME/ais-attack-system.git
cd ais-attack-system
git remote add upstream https://github.com/jasontimwong/ais-attack-system.git
```

### 3. è®¾ç½®å¼€å‘ç¯å¢ƒ

```bash
# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv
source venv/bin/activate  # Linux/macOS
# venv\Scripts\activate  # Windows

# å®‰è£…å¼€å‘ä¾èµ–
pip install -r requirements.txt
pip install -e .[dev]

# å®‰è£…pre-commit hooks
pre-commit install
```

### 4. éªŒè¯ç¯å¢ƒ

```bash
# è¿è¡Œæµ‹è¯•å¥—ä»¶
pytest

# è¿è¡Œä»£ç æ£€æŸ¥
flake8 core/ attacks/ visualization/
black --check core/ attacks/ visualization/
mypy core/

# è¿è¡Œç³»ç»Ÿæ£€æŸ¥
python tools/system_check.py
```

## ğŸ”„ ä»£ç è´¡çŒ®æµç¨‹

### 1. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯

```bash
git checkout -b feature/your-feature-name
# æˆ–
git checkout -b bugfix/issue-number-description
```

åˆ†æ”¯å‘½åè§„èŒƒï¼š
- `feature/` - æ–°åŠŸèƒ½
- `bugfix/` - Bugä¿®å¤
- `docs/` - æ–‡æ¡£æ›´æ–°
- `refactor/` - ä»£ç é‡æ„
- `perf/` - æ€§èƒ½ä¼˜åŒ–

### 2. å¼€å‘å’Œæµ‹è¯•

```bash
# è¿›è¡Œå¼€å‘...

# è¿è¡Œæµ‹è¯•
pytest tests/

# è¿è¡Œç‰¹å®šæµ‹è¯•
pytest tests/test_attack_orchestrator.py -v

# æ£€æŸ¥ä»£ç è¦†ç›–ç‡
pytest --cov=core --cov=attacks --cov-report=html
```

### 3. æäº¤ä»£ç 

```bash
# æ·»åŠ æ–‡ä»¶
git add .

# æäº¤ï¼ˆéµå¾ªcommit messageè§„èŒƒï¼‰
git commit -m "feat: add new ghost swarm attack pattern

- Implement coordinated 8-vessel attack formation
- Add V-formation and diamond-formation patterns
- Include collision avoidance between ghost vessels
- Add comprehensive test coverage

Closes #123"
```

#### Commit Message è§„èŒƒ

ä½¿ç”¨ [Conventional Commits](https://www.conventionalcommits.org/) æ ¼å¼ï¼š

```
<type>[optional scope]: <description>

[optional body]

[optional footer(s)]
```

ç±»å‹åŒ…æ‹¬ï¼š
- `feat` - æ–°åŠŸèƒ½
- `fix` - Bugä¿®å¤
- `docs` - æ–‡æ¡£æ›´æ–°
- `style` - ä»£ç æ ¼å¼ï¼ˆä¸å½±å“åŠŸèƒ½ï¼‰
- `refactor` - ä»£ç é‡æ„
- `perf` - æ€§èƒ½ä¼˜åŒ–
- `test` - æµ‹è¯•ç›¸å…³
- `chore` - æ„å»ºå·¥å…·ã€ä¾èµ–ç­‰

### 4. æ¨é€å’Œåˆ›å»ºPull Request

```bash
# æ¨é€åˆ°æ‚¨çš„fork
git push origin feature/your-feature-name
```

åœ¨GitHubä¸Šåˆ›å»ºPull Requestï¼ŒåŒ…å«ï¼š
- **æ¸…æ™°çš„æ ‡é¢˜å’Œæè¿°**
- **ç›¸å…³issueçš„é“¾æ¥**
- **å˜æ›´å†…å®¹çš„è¯¦ç»†è¯´æ˜**
- **æµ‹è¯•ç»“æœæˆªå›¾**ï¼ˆå¦‚é€‚ç”¨ï¼‰
- **Breaking changesè¯´æ˜**ï¼ˆå¦‚æœ‰ï¼‰

## ğŸ“ ç¼–ç è§„èŒƒ

### Pythonä»£ç è§„èŒƒ

æˆ‘ä»¬ä½¿ç”¨ä»¥ä¸‹å·¥å…·ç¡®ä¿ä»£ç è´¨é‡ï¼š

```bash
# ä»£ç æ ¼å¼åŒ–
black core/ attacks/ visualization/

# å¯¼å…¥æ’åº
isort core/ attacks/ visualization/

# ä»£ç æ£€æŸ¥
flake8 core/ attacks/ visualization/

# ç±»å‹æ£€æŸ¥
mypy core/
```

#### ä»£ç é£æ ¼è¦æ±‚

```python
"""
æ¨¡å—çº§æ–‡æ¡£å­—ç¬¦ä¸²

è¯¦ç»†æè¿°æ¨¡å—çš„åŠŸèƒ½å’Œç”¨é€”ã€‚
"""

import os
import sys
from typing import Dict, List, Optional, Tuple

import numpy as np
import pandas as pd

from core.base import BaseAttack


class FlashCrossAttack(BaseAttack):
    """
    Flash Cross Attack implementation.
    
    This class implements the S1 Flash Cross attack pattern with
    4-stage progressive attack orchestration.
    
    Args:
        config: Attack configuration parameters
        
    Attributes:
        attack_id: Unique attack identifier
        stages: List of attack stages
    """
    
    def __init__(self, config: Dict = None):
        super().__init__(config)
        self.attack_id: Optional[str] = None
        self.stages: List[AttackStage] = []
    
    def execute_attack(self, target_data: Dict) -> Dict:
        """
        Execute the Flash Cross attack.
        
        Args:
            target_data: Target vessel information
            
        Returns:
            Attack execution results
            
        Raises:
            ValueError: If target data is invalid
            RuntimeError: If attack execution fails
        """
        if not self._validate_target_data(target_data):
            raise ValueError("Invalid target data provided")
        
        try:
            # Implementation...
            pass
        except Exception as e:
            raise RuntimeError(f"Attack execution failed: {e}") from e
```

### æ–‡æ¡£å­—ç¬¦ä¸²è§„èŒƒ

ä½¿ç”¨Googleé£æ ¼çš„æ–‡æ¡£å­—ç¬¦ä¸²ï¼š

```python
def calculate_cpa(vessel_a: Dict, vessel_b: Dict) -> float:
    """
    Calculate Closest Point of Approach between two vessels.
    
    This function computes the CPA using standard maritime navigation
    formulas, accounting for vessel speeds, courses, and positions.
    
    Args:
        vessel_a: First vessel data containing lat, lon, speed, course
        vessel_b: Second vessel data containing lat, lon, speed, course
        
    Returns:
        CPA distance in nautical miles
        
    Raises:
        ValueError: If vessel data is incomplete or invalid
        
    Example:
        >>> vessel_1 = {'lat': 40.7128, 'lon': -74.0060, 'speed': 12, 'course': 90}
        >>> vessel_2 = {'lat': 40.7200, 'lon': -74.0000, 'speed': 10, 'course': 180}
        >>> cpa = calculate_cpa(vessel_1, vessel_2)
        >>> print(f"CPA: {cpa:.2f} nm")
        CPA: 0.45 nm
    """
```

## ğŸ§ª æµ‹è¯•è¦æ±‚

### æµ‹è¯•è¦†ç›–ç‡è¦æ±‚

- **æ ¸å¿ƒæ¨¡å—**: æœ€ä½90%è¦†ç›–ç‡
- **æ”»å‡»æ¨¡å—**: æœ€ä½85%è¦†ç›–ç‡
- **å¯è§†åŒ–æ¨¡å—**: æœ€ä½75%è¦†ç›–ç‡
- **å·¥å…·æ¨¡å—**: æœ€ä½70%è¦†ç›–ç‡

### æµ‹è¯•ç±»å‹

#### 1. å•å…ƒæµ‹è¯•

```python
# tests/test_attack_orchestrator.py
import pytest
from unittest.mock import Mock, patch

from core.attack_orchestrator import AttackOrchestrator
from core.target_selector import TargetSelector


class TestAttackOrchestrator:
    """Test cases for AttackOrchestrator class."""
    
    @pytest.fixture
    def orchestrator(self):
        """Create orchestrator instance for testing."""
        target_selector = Mock(spec=TargetSelector)
        physics_engine = Mock()
        colregs_validator = Mock()
        
        return AttackOrchestrator(
            target_selector, physics_engine, colregs_validator
        )
    
    def test_select_target_success(self, orchestrator):
        """Test successful target selection."""
        vessels = [
            {'mmsi': '123456789', 'lat': 40.7128, 'lon': -74.0060}
        ]
        constraints = {'min_distance': 1.0}
        
        orchestrator.target_selector.select_optimal_target.return_value = {
            'mmsi': '123456789',
            'vulnerability': 0.85
        }
        
        result = orchestrator.select_target(vessels, constraints)
        
        assert result == '123456789'
        orchestrator.target_selector.select_optimal_target.assert_called_once_with(
            vessels, constraints
        )
```

#### 2. é›†æˆæµ‹è¯•

```python
# tests/integration/test_flash_cross_integration.py
import pytest
from pathlib import Path

from attacks.flash_cross import FlashCrossAttack


class TestFlashCrossIntegration:
    """Integration tests for Flash Cross attack."""
    
    def test_complete_attack_execution(self):
        """Test complete attack execution pipeline."""
        # Load test data
        test_data = self._load_test_data()
        
        # Initialize attack
        attack = FlashCrossAttack()
        attack_id = attack.initialize_attack(
            test_data['target'], test_data['start_position']
        )
        
        # Execute all stages
        results = attack.execute_complete_attack(test_data['trajectory'])
        
        # Validate results
        assert results['success'] is True
        assert len(results['stages']) == 4
        assert results['metrics']['attack_effectiveness'] > 0.8
```

#### 3. æ€§èƒ½æµ‹è¯•

```python
# tests/performance/test_batch_performance.py
import time
import pytest

from tools.batch_runner import BatchRunner


class TestBatchPerformance:
    """Performance tests for batch processing."""
    
    @pytest.mark.performance
    def test_batch_execution_performance(self):
        """Test batch execution meets performance requirements."""
        runner = BatchRunner()
        
        # Load test scenarios
        test_scenarios = self._create_test_scenarios(count=10)
        runner.scenarios = test_scenarios
        
        # Measure execution time
        start_time = time.time()
        results = runner.run_all_scenarios(parallel=True)
        execution_time = time.time() - start_time
        
        # Performance assertions
        assert execution_time < 60.0  # Should complete in under 1 minute
        assert results['summary']['success_rate'] >= 0.9
        
        # Memory usage should be reasonable
        import psutil
        process = psutil.Process()
        memory_mb = process.memory_info().rss / 1024 / 1024
        assert memory_mb < 1000  # Should use less than 1GB
```

### è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
pytest

# è¿è¡Œç‰¹å®šç±»å‹çš„æµ‹è¯•
pytest tests/unit/
pytest tests/integration/
pytest -m performance

# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
pytest --cov=core --cov=attacks --cov-report=html
open htmlcov/index.html

# è¿è¡Œæ€§èƒ½æµ‹è¯•
pytest -m performance --benchmark-only
```

## ğŸ“š æ–‡æ¡£è´¡çŒ®

### æ–‡æ¡£ç»“æ„

```
docs/
â”œâ”€â”€ api/                 # APIå‚è€ƒæ–‡æ¡£
â”œâ”€â”€ tutorials/           # æ•™ç¨‹å’ŒæŒ‡å—
â”œâ”€â”€ algorithms/          # ç®—æ³•è¯¦ç»†è¯´æ˜
â”œâ”€â”€ examples/           # ç¤ºä¾‹ä»£ç 
â””â”€â”€ images/             # æ–‡æ¡£å›¾ç‰‡
```

### æ–‡æ¡£ç¼–å†™è§„èŒƒ

1. **ä½¿ç”¨Markdownæ ¼å¼**
2. **åŒ…å«ä»£ç ç¤ºä¾‹**
3. **æ·»åŠ é€‚å½“çš„å›¾ç‰‡å’Œå›¾è¡¨**
4. **ä¿æŒå†…å®¹æ›´æ–°**

### æ„å»ºæ–‡æ¡£

```bash
# å®‰è£…æ–‡æ¡£ä¾èµ–
pip install -e .[docs]

# æ„å»ºHTMLæ–‡æ¡£
cd docs/
make html

# å¯åŠ¨æœ¬åœ°æ–‡æ¡£æœåŠ¡å™¨
python -m http.server 8000 -d _build/html/
```

## ğŸ› é—®é¢˜æŠ¥å‘Š

### BugæŠ¥å‘Šæ¨¡æ¿

ä½¿ç”¨GitHub Issuesæ¨¡æ¿æŠ¥å‘Šé—®é¢˜ï¼š

```markdown
**Bugæè¿°**
ç®€æ´æ¸…æ™°åœ°æè¿°bugã€‚

**å¤ç°æ­¥éª¤**
1. è¿è¡Œå‘½ä»¤ '...'
2. ç‚¹å‡»æŒ‰é’® '....'
3. æŸ¥çœ‹é”™è¯¯ '....'

**é¢„æœŸè¡Œä¸º**
æè¿°æ‚¨æœŸæœ›å‘ç”Ÿçš„è¡Œä¸ºã€‚

**å®é™…è¡Œä¸º**
æè¿°å®é™…å‘ç”Ÿçš„è¡Œä¸ºã€‚

**ç¯å¢ƒä¿¡æ¯**
- OS: [e.g. macOS 12.6]
- Pythonç‰ˆæœ¬: [e.g. 3.9.7]
- ç³»ç»Ÿç‰ˆæœ¬: [e.g. 1.0.0]

**é™„åŠ ä¿¡æ¯**
- é”™è¯¯æ—¥å¿—
- é…ç½®æ–‡ä»¶
- æµ‹è¯•æ•°æ®
```

### åŠŸèƒ½è¯·æ±‚æ¨¡æ¿

```markdown
**åŠŸèƒ½æè¿°**
ç®€æ´æ¸…æ™°åœ°æè¿°æ‚¨å¸Œæœ›çš„åŠŸèƒ½ã€‚

**é—®é¢˜èƒŒæ™¯**
æè¿°è¿™ä¸ªåŠŸèƒ½è¦è§£å†³çš„é—®é¢˜ã€‚

**å»ºè®®çš„è§£å†³æ–¹æ¡ˆ**
æè¿°æ‚¨è®¤ä¸ºå¯è¡Œçš„è§£å†³æ–¹æ¡ˆã€‚

**æ›¿ä»£æ–¹æ¡ˆ**
æè¿°æ‚¨è€ƒè™‘è¿‡çš„å…¶ä»–è§£å†³æ–¹æ¡ˆã€‚

**é™„åŠ ä¿¡æ¯**
æ·»åŠ ä»»ä½•å…¶ä»–ç›¸å…³ä¿¡æ¯æˆ–æˆªå›¾ã€‚
```

## ğŸ† è´¡çŒ®è€…è®¤å¯

æˆ‘ä»¬é‡è§†æ¯ä¸€ä¸ªè´¡çŒ®ï¼Œå¹¶é€šè¿‡ä»¥ä¸‹æ–¹å¼è®¤å¯è´¡çŒ®è€…ï¼š

### è´¡çŒ®è€…ç±»å‹

- **æ ¸å¿ƒç»´æŠ¤è€…** - é•¿æœŸç»´æŠ¤é¡¹ç›®çš„å¼€å‘è€…
- **ä»£ç è´¡çŒ®è€…** - æäº¤ä»£ç çš„å¼€å‘è€…
- **æ–‡æ¡£è´¡çŒ®è€…** - æ”¹è¿›æ–‡æ¡£çš„è´¡çŒ®è€…
- **æµ‹è¯•è´¡çŒ®è€…** - æä¾›æµ‹è¯•å’Œè´¨é‡ä¿è¯çš„è´¡çŒ®è€…
- **ç¤¾åŒºæ”¯æŒè€…** - å¸®åŠ©å…¶ä»–ç”¨æˆ·çš„è´¡çŒ®è€…

### è®¤å¯æ–¹å¼

1. **READMEè´¡çŒ®è€…åˆ—è¡¨**
2. **å‘å¸ƒè¯´æ˜ä¸­çš„è‡´è°¢**
3. **GitHubè´¡çŒ®è€…å¾½ç« **
4. **å­¦æœ¯è®ºæ–‡ä¸­çš„è‡´è°¢**

## ğŸ“œ ç¤¾åŒºå‡†åˆ™

### è¡Œä¸ºå‡†åˆ™

æˆ‘ä»¬é‡‡ç”¨ [Contributor Covenant](https://www.contributor-covenant.org/) è¡Œä¸ºå‡†åˆ™ï¼š

- **å‹å¥½åŒ…å®¹** - æ¬¢è¿ä¸åŒèƒŒæ™¯çš„è´¡çŒ®è€…
- **å°Šé‡ä»–äºº** - å°Šé‡ä¸åŒçš„è§‚ç‚¹å’Œç»éªŒ
- **å»ºè®¾æ€§åé¦ˆ** - æä¾›æœ‰å¸®åŠ©çš„ã€å»ºè®¾æ€§çš„åé¦ˆ
- **ä¸“ä¸šæ€åº¦** - ä¿æŒä¸“ä¸šå’Œç¤¼è²Œçš„äº¤æµ

### å­¦æœ¯è¯šä¿¡

ç”±äºæœ¬é¡¹ç›®æ¶‰åŠç½‘ç»œå®‰å…¨ç ”ç©¶ï¼š

- **è´Ÿè´£ä»»æŠ«éœ²** - å‘ç°çš„å®‰å…¨é—®é¢˜åº”è´Ÿè´£ä»»åœ°æŠ«éœ²
- **ç ”ç©¶ç”¨é€”** - ç¡®ä¿ç ”ç©¶æˆæœç”¨äºé˜²å¾¡æ€§ç›®çš„
- **å¼•ç”¨è§„èŒƒ** - æ­£ç¡®å¼•ç”¨ç›¸å…³ç ”ç©¶å’Œæ•°æ®æ¥æº
- **ä¼¦ç†è€ƒé‡** - éµå®ˆç ”ç©¶ä¼¦ç†å’Œæ³•å¾‹æ³•è§„

## ğŸ“§ è”ç³»æ–¹å¼

å¦‚æœ‰ä»»ä½•é—®é¢˜æˆ–éœ€è¦å¸®åŠ©ï¼š

- **GitHub Issues**: [æŠ¥å‘Šé—®é¢˜](https://github.com/jasontimwong/ais-attack-system/issues)
- **GitHub Discussions**: [å‚ä¸è®¨è®º](https://github.com/jasontimwong/ais-attack-system/discussions)
- **é‚®ä»¶**: jason@example.com

---

æ„Ÿè°¢æ‚¨å¯¹AISæ”»å‡»ç”Ÿæˆç³»ç»Ÿçš„è´¡çŒ®ï¼æ‚¨çš„å‚ä¸å°†æ¨åŠ¨æµ·äº‹ç½‘ç»œå®‰å…¨ç ”ç©¶çš„å‘å±•ã€‚ ğŸš¢âš“
